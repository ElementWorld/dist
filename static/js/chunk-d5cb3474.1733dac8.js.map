{"version":3,"sources":["webpack:///./src/views/order/index.vue","webpack:///./src/views/order/index.vue?bf8a","webpack:///./src/views/order/index.vue?f697"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_HeadTop","title","_ctx","isShowTop","isSubHeader","_component_van_list","loading","$event","immediate-check","error","error-text","finished","finished-text","onLoad","_Fragment","_renderList","item","index","key","_toDisplayString","Number","eleAmount","toFixed","_hoisted_7","usdtAmount","isSettle","startTime","dayRate","settlePrice","settleAmount","components","HeadTop","setup","store","useStore","data","reactive","address","computed","state","accounts","web3","provider","swapContract","page","limit","list","initContract","initData","getList","getOrderList","user","then","res","push","Math","ceil","total","watch","val","refData","toRefs","__exports__","render"],"mappings":"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","file":"static/js/chunk-d5cb3474.1733dac8.js","sourcesContent":["<template>\r\n  <div class=\"swap-box invest-box\">\r\n    <HeadTop :title=\"$t('index.投资记录')\" :isShowTop=\"true\" :isSubHeader=\"false\"></HeadTop>\r\n     <van-list v-model:loading=\"loading\" :immediate-check=\"false\" v-model:error=\"error\" :error-text=\"$t('index.请求失败，点击重新加载')\" :finished=\"finished\" :finished-text=\"$t('index.没有更多了')\" @load=\"onLoad\">\r\n    <div class=\"list-box\">\r\n       <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n          <div class=\"top flex-middle\">\r\n            <div class=\"top-item flex-item\">\r\n               <div class=\"num\">{{Number(item.eleAmount/10**18).toFixed(2)}}</div>\r\n               <div class=\"desc\">{{$t('index.投资数量')}}(ELE)</div>\r\n            </div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"top-item flex-item\">\r\n               <div class=\"num yellow\">{{Number(item.usdtAmount/10**18).toFixed(2)}}</div>\r\n               <div class=\"desc\">{{$t('index.投资价值')}}(USDT)</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"bottom\">\r\n            \r\n            <div class=\"status\" v-if=\"item.isSettle == 1\">{{$t('index.已结算')}}</div>\r\n             <div class=\"status red\" v-else>{{$t('index.未结算')}}</div>\r\n             <div class=\"row flex-middle\">\r\n                <div class=\"name\">{{$t('index.投资时间')}}</div>\r\n                <div class=\"value\">{{$dateformat(item.startTime*1000, 'yyyy-mm-dd HH:mm:ss')}}</div>\r\n             </div>\r\n             <div class=\"row flex-middle\">\r\n                <div class=\"name\">{{$t('index.投资收益率')}}</div>\r\n                <div class=\"value\">{{item.dayRate/100}}%</div>\r\n             </div>\r\n             <div class=\"row flex-middle\">\r\n                <div class=\"name\">{{$t('index.结算价格')}}</div>\r\n                <div class=\"value\">{{Number(item.settlePrice/10**18).toFixed(6)}}ELE/USDT</div>\r\n             </div>\r\n              <div class=\"row flex-middle\">\r\n                <div class=\"name\">{{$t('index.结算数量')}}</div>\r\n                <div class=\"value\">{{Number(item.settleAmount/10**18).toFixed(6)}}ELE</div>\r\n             </div>\r\n          </div>\r\n       </div>\r\n    </div>\r\n    </van-list>\r\n  </div>  \r\n</template>\r\n<script>\r\nimport HeadTop from '@/components/HeadTop'\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n// import { Toast } from 'vant';\r\n// import config from \"@/utils/config\";\r\n// import BigNumber from 'bignumber.js';\r\nimport { getOrderList } from \"@/api\"\r\nexport default {\r\n  components: {\r\n    HeadTop\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const data = reactive({\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      swapContract: null,\r\n      page: 1,\r\n      limit: 5,\r\n      loading: false,\r\n      error: false,\r\n      finished: false,\r\n      list: [],\r\n      initContract: () => {\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n         data.list = []\r\n        data.page = 1\r\n        data.getList()\r\n      },\r\n        onLoad () {\r\n        data.page++\r\n        data.getList()\r\n      },\r\n      getList: async () => {\r\n      \r\n          getOrderList({user:data.address, limit: data.limit, page: data.page}).then((res) => {\r\n             if (data.page === 1) {\r\n            data.list = res.data\r\n          } else {\r\n            data.list.push(...res.data)\r\n          }\r\n          data.loading = false\r\n          data.finished = !(Math.ceil(res.total / data.limit) > data.page)\r\n          })\r\n         \r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.invest-box{\r\n  padding: 10px 16px 25px;\r\n  .list-box{\r\n    padding-top: 20px;\r\n    .item{\r\n      background: rgba(255, 255, 255, 0.05);\r\n    border-radius: 15px;\r\n    padding: 25px 20px;\r\n    margin-bottom: 20px;\r\n      .top{\r\n          padding-bottom: 20px;\r\n          border-bottom: 0.5px solid rgba(255, 255, 255, 0.1);\r\n        .top-item{\r\n          .num{\r\n            color: #fff;\r\n            font-size: 18px;\r\n            font-weight: 700;\r\n            margin-bottom: 4px;\r\n          }\r\n          .yellow{\r\n            color: #FFD511;\r\n          }\r\n          .desc{\r\n            color: rgba(255, 255, 255, 0.7);\r\n            font-size: 14px;\r\n          }\r\n        }\r\n        .line{\r\n          width: 0.5px;\r\n          height: 40px;\r\n          background: rgba(255, 255, 255, 0.1);\r\n          margin-right: 18px;\r\n        }\r\n      }\r\n      .bottom{\r\n        padding: 18px 0 0;\r\n        .status{\r\n          color: #0CD3DD;\r\n          font-size: 16px;\r\n          font-weight: 700;\r\n          padding-bottom: 4px;\r\n        }\r\n        .red{\r\n          color: #F3489D;\r\n        }\r\n        .row{\r\n          margin-top: 10px;\r\n          .name{\r\n            width: 110px;\r\n            color: rgba(255, 255, 255, 0.7);\r\n            font-size: 14px;\r\n          }\r\n          .value{\r\n            color: #fff;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n      .btn-box{\r\n        margin-top: 16px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=13b1788b&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=13b1788b&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\activeSelf\\\\elementWorldVue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13b1788b\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=13b1788b&lang=less&scoped=true\""],"sourceRoot":""}