(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5638fbf3"],{3195:function(e,t,n){"use strict";n("3627")},3627:function(e,t,n){},"440b":function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"intro","type":"address"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"BindIntroLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"string","name":"key","type":"string"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"GrantLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"eleAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"dayRate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"StakedLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"WithdrawLog","type":"event"},{"inputs":[],"name":"ELE","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"needUsdtAmount","type":"uint256"},{"internalType":"uint256","name":"dayRate","type":"uint256"}],"name":"addStakeType","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"addWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"delWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"needUsdtAmount","type":"uint256"},{"internalType":"uint256","name":"dayRate","type":"uint256"}],"name":"editStakeType","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feeValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllStakeType","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"needUsdtAmount","type":"uint256"},{"internalType":"uint256","name":"dayRate","type":"uint256"}],"internalType":"struct Invest.StakeType[]","name":"stakeTypeArr","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"getEleAmount","outputs":[{"internalType":"uint256","name":"eleAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getWhitelist","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getWhitelistLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"key","type":"string"}],"name":"grant","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"keyIsUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rootAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"routerPath","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feeValue","type":"uint256"}],"name":"setFeeValue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_routerPath","type":"address"}],"name":"setRouterPath","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"_intro","type":"address"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userInfo","outputs":[{"internalType":"address","name":"intro","type":"address"},{"internalType":"uint256","name":"investAmmount","type":"uint256"},{"internalType":"uint256","name":"totalBack","type":"uint256"},{"internalType":"uint256","name":"lastTime","type":"uint256"},{"internalType":"bool","name":"isExist","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"}]')},"497d":function(e,t,n){e.exports=n.p+"static/img/jb_3.64a9ad8e.png"},"4b36":function(e,t,n){e.exports=n.p+"static/img/jb_1.df61a664.png"},"722f":function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},"736f":function(e,t,n){e.exports=n.p+"static/img/jb_2.71706c9b.png"},"7f98":function(e,t,n){var a={"./jb_1.png":"4b36","./jb_2.png":"736f","./jb_3.png":"497d"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="7f98"},a339:function(e,t,n){"use strict";n.r(t);n("b680"),n("a9e3");var a=n("7a23"),i={class:"index"},r={class:"floor-top"},s={class:"nums flex-middle"},u={class:"key"},p={class:"value"},o={class:"item"},d={class:"key"},c={class:"value"},l={class:"key"},y={class:"value"},m={class:"item"},b={class:"key"},f={class:"value"},v={class:"nums flex-middle"},O={class:"item"},w={class:"key"},j={class:"value"},T={class:"item"},x={class:"list-btn flex-middle"},g={class:"swap"},k={class:"swap-item"},h={class:"title"},M={class:"choose-type flex-between"},A=["onClick"],E=["src"],C={class:"price-desc"},I=Object(a["m"])("ELE"),P={class:"button-box"};function R(e,t,R,L,$,_){var N=Object(a["L"])("HeadTop"),S=Object(a["L"])("van-button");return Object(a["E"])(),Object(a["j"])("div",i,[Object(a["n"])(N,{title:e.$t("index.投资"),isShowTop:!0,isSubHeader:!1},null,8,["title"]),Object(a["k"])("div",r,[Object(a["k"])("div",s,[Object(a["k"])("div",{class:"item border-1px-r",onClick:t[0]||(t[0]=function(t){return e.$router.push({name:"RecordLpPower"})})},[Object(a["k"])("div",u,Object(a["P"])(e.$t("index.已投资"))+"(ELE)",1),Object(a["k"])("div",p,Object(a["P"])(Number(e.investAmount/Math.pow(10,18)).toFixed(2)),1)]),Object(a["k"])("div",o,[Object(a["k"])("div",d,Object(a["P"])(e.$t("index.累计领取"))+"(ELE)",1),Object(a["k"])("div",c,Object(a["P"])(Number(e.totalBack/Math.pow(10,18)).toFixed(2)),1)]),Object(a["k"])("div",{class:"item border-1px-r",onClick:t[1]||(t[1]=function(t){return e.$router.push({name:"RecordLpPower"})})},[Object(a["k"])("div",l,Object(a["P"])(e.$t("index.投资收益"))+"(ELE)",1),Object(a["k"])("div",y,Object(a["P"])(Number(e.investIncome/Math.pow(10,18)).toFixed(2)),1)]),Object(a["k"])("div",m,[Object(a["k"])("div",b,Object(a["P"])(e.$t("index.推荐收益"))+"(ELE)",1),Object(a["k"])("div",f,Object(a["P"])(Number(e.introIncome/Math.pow(10,18)).toFixed(2)),1)])]),Object(a["k"])("div",v,[Object(a["k"])("div",O,[Object(a["k"])("div",w,Object(a["P"])(e.$t("index.待领取收益"))+"(ELE)",1),Object(a["k"])("div",j,Object(a["P"])(Number(e.reward/Math.pow(10,18)).toFixed(5)),1)]),Object(a["k"])("div",T,[Object(a["k"])("span",{class:"btn",onClick:t[2]||(t[2]=function(){return e.withdraw&&e.withdraw.apply(e,arguments)})},Object(a["P"])(e.$t("index.领取")),1)])])]),Object(a["k"])("div",x,[Object(a["n"])(S,{type:"primary",size:"large",onClick:t[3]||(t[3]=function(t){return e.$router.push({name:"Order"})})},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.投资记录")),1)]})),_:1}),Object(a["n"])(S,{type:"primary",style:{margin:"0 6px"},size:"large",onClick:t[4]||(t[4]=function(t){return e.$router.push({name:"WithdrawList"})})},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.领取记录")),1)]})),_:1}),Object(a["n"])(S,{type:"primary",size:"large",onClick:t[5]||(t[5]=function(t){return e.$router.push({name:"IntroIncomeList"})})},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.推荐收益记录")),1)]})),_:1})]),Object(a["k"])("div",g,[Object(a["k"])("div",k,[Object(a["k"])("div",h,Object(a["P"])(e.$t("index.选择投资类型")),1),Object(a["k"])("div",M,[(Object(a["E"])(!0),Object(a["j"])(a["a"],null,Object(a["K"])(e.types,(function(t){return Object(a["E"])(),Object(a["j"])("div",{class:Object(a["w"])(["type-item",e.typeId==t.id?"active":""]),onClick:function(n){return e.selectType(t)}},[Object(a["k"])("img",{src:n("7f98")("./jb_"+t.id+".png"),alt:""},null,8,E),Object(a["k"])("span",null,Object(a["P"])(t.needUsdtAmount/Math.pow(10,18))+"USDT",1)],10,A)})),256))]),Object(a["k"])("div",C,[Object(a["m"])(Object(a["P"])(e.$t("index.需要")),1),Object(a["k"])("span",null,Object(a["P"])(Number(e.needEleAmount/Math.pow(10,18)).toFixed(4)),1),I]),Object(a["k"])("div",P,[Number(e.allowance)>0?(Object(a["E"])(),Object(a["h"])(S,{key:0,type:"primary",loading:e.btn.swaploading,size:"large","loading-text":e.$t("index.投资")+"...",block:"",onClick:e.invest},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.投资")),1)]})),_:1},8,["loading","loading-text","onClick"])):(Object(a["E"])(),Object(a["h"])(S,{key:1,type:"primary",loading:e.btn.swaploading,size:"large","loading-text":e.$t("index.正在授权")+"...",onClick:e.approve},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.授权"))+"ELE",1)]})),_:1},8,["loading","loading-text","onClick"]))])])])])}var L=n("5530"),$=n("1da1"),_=(n("96cf"),n("1a2e")),N=n("47e2"),S=n("5502"),U=n("01ea"),V=n("722f"),B=n("440b"),F=n("626a"),D=n("9d56");const W="0x0000000000000000000000000000000000000000";var z=n("98b3"),J=n("365c"),H={components:{HeadTop:_["a"]},setup:function(){var e=Object(S["b"])(),t=Object(N["b"])(),n=t.t,i=Object(a["I"])({address:Object(a["f"])((function(){return e.state.accounts[0]})),web3:Object(a["f"])((function(){return e.state.provider})),intro:z["a"].get()||U["a"].rootAddress,eleContract:null,investContract:null,balance:0,types:[],typeId:"",type:null,allowance:"",investAmount:"0.00",totalBack:"0.00",needEleAmount:"0.00",investIncome:"0.00",introIncome:"0.00",reward:"0.00",btn:{swaploading:!1},initContract:function(){i.investContract=new i.web3.eth.Contract(B,U["a"].investAddress),i.eleContract=new i.web3.eth.Contract(V,U["a"].ELEAddress),i.initData()},initData:function(){i.getAllStakeType(),i.getBalance(),i.getAllowance(),i.getInfo(),i.getUserInfo()},selectType:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.type=t,i.typeId=t.id,e.next=4,i.getNeedEleAmount();case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getUserInfo:function(){Object(J["c"])({user:i.address}).then((function(e){i.investIncome=e.data.userInfo.haveBack,i.reward=e.data.userInfo.reward,i.introIncome=e.data.userInfo.introIncome}))},getInfo:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.investContract.methods.userInfo(i.address).call();case 2:t=e.sent,i.investAmount=t.investAmmount,i.totalBack=t.totalBack;case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getBalance:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.eleContract.methods.balanceOf(i.address).call();case 2:t=e.sent,i.balance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getAllowance:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.eleContract.methods.allowance(i.address,U["a"].investAddress).call();case 2:t=e.sent,i.allowance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getAllStakeType:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.investContract.methods.getAllStakeType().call();case 2:return t=e.sent,i.types=t,i.typeId=t[0].id,i.type=t[0],e.next=9,i.getNeedEleAmount();case 9:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getNeedEleAmount:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.investContract.methods.getEleAmount(i.type.needUsdtAmount).call();case 2:t=e.sent,i.needEleAmount=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),approve:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.btn.swaploading=!0,e.prev=1,e.next=4,i.eleContract.methods.approve(U["a"].investAddress,D["a"]).send({from:i.address});case 4:Object(F["a"])(n("index.授权成功")),i.getAllowance(),i.btn.swaploading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(F["a"])(n("index.授权失败")),i.btn.swaploading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),withdraw:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.investContract.methods.feeValue().call();case 3:return t=e.sent,e.next=6,i.investContract.methods.withdraw().send({from:i.address,value:t});case 6:Object(F["a"])(n("index.领取成功")),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),Object(F["a"])(n("index.领取失败"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),invest:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(Number(i.needEleAmount)>Number(i.balance))){e.next=3;break}return Object(F["a"])(n("index.ELE余额不足")),e.abrupt("return");case 3:return e.next=5,i.investContract.methods.userInfo(i.intro).call();case 5:return t=e.sent,e.next=8,i.investContract.methods.userInfo(i.address).call();case 8:if(a=e.sent,t.intro!=W||i.intro==U["a"].rootAddress||a.intro!=W){e.next=12;break}return Object(F["a"])(n("index.推荐人无效")),e.abrupt("return");case 12:return i.btn.swaploading=!0,e.prev=13,e.next=16,i.investContract.methods.stake(i.typeId,i.intro).estimateGas({from:i.address});case 16:return e.sent,e.next=20,i.investContract.methods.stake(i.typeId,i.intro).send({from:i.address});case 20:Object(F["a"])(n("index.投资成功")),i.initData(),i.btn.swaploading=!1,e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](13),Object(F["a"])(n("index投资失败")),i.btn.swaploading=!1;case 29:case"end":return e.stop()}}),e,null,[[13,25]])})));function t(){return e.apply(this,arguments)}return t}()});i.address&&i.initContract(),Object(a["T"])((function(){return i.address}),(function(e){e&&i.initContract()}));var r=Object(a["Q"])(i);return Object(L["a"])({},r)}},G=(n("3195"),n("6b0d")),K=n.n(G);const Q=K()(H,[["render",R],["__scopeId","data-v-4307d8d1"]]);t["default"]=Q}}]);
//# sourceMappingURL=chunk-5638fbf3.c0aa08b7.js.map