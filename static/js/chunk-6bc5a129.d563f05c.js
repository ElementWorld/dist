(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bc5a129"],{5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("e330"),a=n("1d80"),c=n("577e"),i=n("5899"),o=r("".replace),u="["+i+"]",s=RegExp("^"+u+u+"*"),d=RegExp(u+u+"*$"),b=function(t){return function(e){var n=c(a(e));return 1&t&&(n=o(n,s,"")),2&t&&(n=o(n,d,"")),n}};t.exports={start:b(1),end:b(2),trim:b(3)}},7822:function(t,e,n){},"943b":function(t,e,n){"use strict";n.r(e);n("a9e3");var r=n("7a23"),a={class:"user-box"},c={class:"nft-box"},i={class:"title"},o={class:"desc"},u={class:"btn-box"},s={class:"children-num"},d={class:"tip"},b={class:"intro-box"},l={class:"title"},f={class:"list"},p={class:"token flex-item"},m=["data-clipboard-text"];function O(t,e,n,O,j,h){var v=Object(r["L"])("HeadTop"),N=Object(r["L"])("van-button");return Object(r["E"])(),Object(r["j"])("div",a,[Object(r["n"])(v,{title:t.$t("index.加入合伙人"),isShowTop:!0,isSubHeader:!1},null,8,["title"]),Object(r["k"])("div",c,[Object(r["k"])("div",i,Object(r["P"])(t.$t("index.加入合伙人获取元素世界勋章NFT")),1),Object(r["k"])("div",o,Object(r["P"])(t.$t("index.直接邀请至少个用户",{introNum:t.introNum,buyNftAmount:t.buyNftAmount})),1),Object(r["k"])("div",u,[Number(t.usdtAllowance)>0?(Object(r["E"])(),Object(r["h"])(N,{key:0,disabled:t.isBuyNft,type:"primary",size:"large",onClick:t.buyNft},{default:Object(r["V"])((function(){return[Object(r["m"])(Object(r["P"])(t.$t("index.加入合伙人")),1)]})),_:1},8,["disabled","onClick"])):(Object(r["E"])(),Object(r["h"])(N,{key:1,type:"primary",size:"large",onClick:t.approveUsdt},{default:Object(r["V"])((function(){return[Object(r["m"])(Object(r["P"])(t.$t("index.授权"))+" USDT",1)]})),_:1},8,["onClick"]))]),Object(r["k"])("div",s,Object(r["P"])(t.$t("index.ido直推有效人数："))+Object(r["P"])(t.childrenNum),1),Object(r["k"])("div",d,Object(r["P"])(t.$t("index.花费USDT获得NFT",{buyNftAmount:t.buyNftAmount,introNum:t.introNum})),1)]),Object(r["k"])("div",b,[Object(r["k"])("div",l,Object(r["P"])(t.$t("index.我的IDO直推")),1),Object(r["k"])("div",f,[(Object(r["E"])(!0),Object(r["j"])(r["a"],null,Object(r["K"])(t.children,(function(e,n){return Object(r["E"])(),Object(r["j"])("div",{class:"item flex-middle",key:n},[Object(r["k"])("div",p,Object(r["P"])(e.substring(0,12))+"****"+Object(r["P"])(e.substring(e.length-12,e.length)),1),Object(r["k"])("div",{class:"copy-btn","data-clipboard-text":e},Object(r["P"])(t.$t("index.复制")),9,m)])})),128))])])])}var j=n("5530"),h=n("1da1"),v=(n("b680"),n("96cf"),n("1a2e")),N=n("5502"),x=n("01ea"),w=n("a4a5"),g=n("901e"),y=n.n(g),k=n("722f"),A=n("98b3"),I=n("47e2"),C=n("9d56"),E=n("626a"),R=n("b311"),T=n.n(R),S={components:{HeadTop:v["a"]},setup:function(){var t=Object(N["b"])(),e=Object(I["b"])(),n=e.t,a=Object(r["I"])({address:Object(r["f"])((function(){return t.state.accounts[0]})),web3:Object(r["f"])((function(){return t.state.provider})),idoContract:null,usdtContract:null,usdtBalance:"0.00",idoAmount:"0.00",buyNftAmount:"0.00",usdtAllowance:"",introNum:0,intro:A["a"].get()||x["a"].rootAddress,isBuyNft:!1,isGetNft:!1,isIdo:!1,childrenNum:0,children:[],initContract:function(){a.idoContract=new a.web3.eth.Contract(w,x["a"].idoAddress),a.usdtContract=new a.web3.eth.Contract(k,x["a"].usdtAddress),a.initData()},initData:function(){a.getBalance(),a.getIdoInfo(),a.getUsdtAllowance(),a.getUserInfo()},getUserInfo:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.idoContract.methods.userInfo(a.address).call();case 2:return e=t.sent,t.next=5,a.idoContract.methods.getChildren(a.address).call();case 5:n=t.sent,a.isBuyNft=e.isGetNft,a.isGetNft=e.isGetNft,a.isIdo=e.isIdo,a.childrenNum=n.length,a.children=n;case 11:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getBalance:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.usdtContract.methods.balanceOf(a.address).call();case 2:e=t.sent,a.usdtBalance=new y.a(e).dividedBy(Math.pow(10,18)).toFixed(2,1);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getIdoInfo:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.idoContract.methods.idoAmount().call();case 2:return e=t.sent,t.next=5,a.idoContract.methods.buyNftAmount().call();case 5:return n=t.sent,t.next=8,a.idoContract.methods.introNum().call();case 8:r=t.sent,a.idoAmount=new y.a(e).dividedBy(Math.pow(10,18)).toFixed(2,1),a.buyNftAmount=new y.a(n).dividedBy(Math.pow(10,18)).toFixed(2,1),a.introNum=r;case 12:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getUsdtAllowance:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.usdtContract.methods.allowance(a.address,x["a"].idoAddress).call();case 2:e=t.sent,a.usdtAllowance=e;case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),approveUsdt:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.usdtContract.methods.approve(x["a"].idoAddress,C["a"]).send({from:a.address});case 3:a.getUsdtAllowance(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),buyNft:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(Number(a.usdtBalance)<Number(a.buyNftAmount))){t.next=3;break}return Object(E["a"])(n("index.USDT余额不足")),t.abrupt("return");case 3:return t.prev=3,t.next=6,a.idoContract.methods.buyNft(a.intro).send({from:a.address});case 6:Object(E["a"])(n("index.操作成功")),a.initData(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(){return t.apply(this,arguments)}return e}(),ido:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(Number(a.usdtBalance)<Number(a.buyNftAmount))){t.next=3;break}return Object(E["a"])(n("index.USDT余额不足")),t.abrupt("return");case 3:return t.prev=3,t.next=6,a.idoContract.methods.ido(a.intro).send({from:a.address});case 6:Object(E["a"])(n("index.操作成功")),a.initData(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(){return t.apply(this,arguments)}return e}()});a.address&&a.initContract(),Object(r["B"])((function(){var t=new T.a(".copy-btn");t.on("success",(function(t){Object(E["a"])(n("index.复制成功")),t.clearSelection()})),t.on("error",(function(){Object(E["a"])(n("index.复制失败，请手动复制"))}))})),Object(r["T"])((function(){return a.address}),(function(t){t&&a.initContract()}));var c=Object(r["Q"])(a);return Object(j["a"])({},c)}},B=(n("dd92"),n("6b0d")),P=n.n(B);const U=P()(S,[["render",O],["__scopeId","data-v-0c789ccb"]]);e["default"]=U},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),c=n("e330"),i=n("94ca"),o=n("6eeb"),u=n("1a2d"),s=n("7156"),d=n("3a9b"),b=n("d9b5"),l=n("c04e"),f=n("d039"),p=n("241c").f,m=n("06cf").f,O=n("9bf2").f,j=n("408a"),h=n("58a8").trim,v="Number",N=a[v],x=N.prototype,w=a.TypeError,g=c("".slice),y=c("".charCodeAt),k=function(t){var e=l(t,"number");return"bigint"==typeof e?e:A(e)},A=function(t){var e,n,r,a,c,i,o,u,s=l(t,"number");if(b(s))throw w("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=h(s),e=y(s,0),43===e||45===e){if(n=y(s,2),88===n||120===n)return NaN}else if(48===e){switch(y(s,1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+s}for(c=g(s,2),i=c.length,o=0;o<i;o++)if(u=y(c,o),u<48||u>a)return NaN;return parseInt(c,r)}return+s};if(i(v,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var I,C=function(t){var e=arguments.length<1?0:N(k(t)),n=this;return d(x,n)&&f((function(){j(n)}))?s(Object(e),n,C):e},E=r?p(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;E.length>R;R++)u(N,I=E[R])&&!u(C,I)&&O(C,I,m(N,I));C.prototype=x,x.constructor=C,o(a,v,C)}},dd92:function(t,e,n){"use strict";n("7822")}}]);
//# sourceMappingURL=chunk-6bc5a129.d563f05c.js.map