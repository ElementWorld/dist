(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e412f97"],{"43db":function(e,t,n){"use strict";n("b424")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("e330"),i=n("1d80"),s=n("577e"),r=n("5899"),u=a("".replace),p="["+r+"]",o=RegExp("^"+p+p+"*"),d=RegExp(p+p+"*$"),y=function(e){return function(t){var n=s(i(t));return 1&e&&(n=u(n,o,"")),2&e&&(n=u(n,d,"")),n}};e.exports={start:y(1),end:y(2),trim:y(3)}},"6f71":function(e,t,n){"use strict";n.r(t);n("a9e3");var a=n("7a23"),i=function(e){return Object(a["H"])("data-v-d711bd26"),e=e(),Object(a["F"])(),e},s={class:"user-box"},r={class:"nft-box"},u=i((function(){return Object(a["k"])("div",{class:"title"},"IDO",-1)})),p={class:"desc"},o={class:"btn-box"},d=Object(a["m"])("IDO"),y={class:"tip-desc"},l={class:"tip-desc"};function c(e,t,n,i,c,m){var f=Object(a["L"])("HeadTop"),b=Object(a["L"])("van-button");return Object(a["E"])(),Object(a["j"])("div",s,[Object(a["n"])(f,{title:"IDO",isShowTop:!0,isSubHeader:!1}),Object(a["k"])("div",r,[u,Object(a["k"])("div",p,Object(a["P"])(e.$t("index.花费USDT获得$ELE",{idoAmount:e.idoAmount,num:e.idoAmount})),1),Object(a["k"])("div",o,[Number(e.usdtAllowance)>0?(Object(a["E"])(),Object(a["h"])(b,{key:0,disabled:e.isIdo,type:"primary",size:"large",onClick:e.ido},{default:Object(a["V"])((function(){return[d]})),_:1},8,["disabled","onClick"])):(Object(a["E"])(),Object(a["h"])(b,{key:1,type:"primary",size:"large",onClick:e.approveUsdt},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.授权"))+" USDT",1)]})),_:1},8,["onClick"]))])]),Object(a["k"])("div",y,Object(a["P"])(e.$t("index.已认购的IDO份额"))+":"+Object(a["P"])(e.idoNum),1),Object(a["k"])("div",l,Object(a["P"])(e.$t("index.已领取NFT勋章数量"))+":"+Object(a["P"])(e.nftNum),1)])}var m=n("5530"),f=n("1da1"),b=(n("b680"),n("96cf"),n("1a2e")),T=n("5502"),w=n("01ea"),v=n("a4a5"),x=n("901e"),O=n.n(x),h=n("722f"),M=n("98b3"),g=n("47e2"),N=n("9d56"),I=n("626a"),j=n("ae04"),k={components:{HeadTop:b["a"]},setup:function(){var e=Object(T["b"])(),t=Object(g["b"])(),n=t.t,i=Object(a["I"])({address:Object(a["f"])((function(){return e.state.accounts[0]})),web3:Object(a["f"])((function(){return e.state.provider})),idoContract:null,usdtContract:null,nftContract:null,usdtBalance:"0.00",idoAmount:"0.00",buyNftAmount:"0.00",usdtAllowance:"",introNum:0,intro:M["a"].get()||w["a"].rootAddress,isBuyNft:!1,isGetNft:!1,isIdo:!1,nftNum:0,idoNum:0,initContract:function(){i.idoContract=new i.web3.eth.Contract(v,w["a"].idoAddress),i.usdtContract=new i.web3.eth.Contract(h,w["a"].usdtAddress),i.nftContract=new i.web3.eth.Contract(j,w["a"].nftAddress),i.initData()},initData:function(){i.getBalance(),i.getIdoInfo(),i.getUsdtAllowance(),i.getUserInfo()},getUserInfo:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.idoContract.methods.userInfo(i.address).call();case 2:t=e.sent,i.isBuyNft=t.isGetNft,i.isGetNft=t.isGetNft,i.isIdo=t.isIdo;case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getBalance:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.usdtContract.methods.balanceOf(i.address).call();case 2:t=e.sent,i.usdtBalance=new O.a(t).dividedBy(Math.pow(10,18)).toFixed(2,1);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getIdoInfo:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.idoContract.methods.idoAmount().call();case 2:return t=e.sent,e.next=5,i.idoContract.methods.buyNftAmount().call();case 5:return n=e.sent,e.next=8,i.idoContract.methods.introNum().call();case 8:return a=e.sent,i.idoAmount=new O.a(t).dividedBy(Math.pow(10,18)).toFixed(2,1),i.buyNftAmount=new O.a(n).dividedBy(Math.pow(10,18)).toFixed(2,1),i.introNum=a,e.next=14,i.idoContract.methods.total().call();case 14:return i.nftNum=e.sent,e.next=17,i.idoContract.methods.idoNum().call();case 17:i.idoNum=e.sent;case 18:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getUsdtAllowance:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.usdtContract.methods.allowance(i.address,w["a"].idoAddress).call();case 2:t=e.sent,i.usdtAllowance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),approveUsdt:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.usdtContract.methods.approve(w["a"].idoAddress,N["a"]).send({from:i.address});case 3:i.getUsdtAllowance(),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),buyNft:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(Number(i.usdtBalance)<Number(i.buyNftAmount))){e.next=3;break}return Object(I["a"])(n("index.USDT余额不足")),e.abrupt("return");case 3:return e.prev=3,e.next=6,i.idoContract.methods.buyNft().send({from:i.address});case 6:Object(I["a"])(n("index.操作成功")),i.initData(),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}(),ido:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(Number(i.usdtBalance)<Number(i.idoAmount))){e.next=3;break}return Object(I["a"])(n("index.USDT余额不足")),e.abrupt("return");case 3:return e.prev=3,e.next=6,i.idoContract.methods.ido(i.intro).send({from:i.address});case 6:Object(I["a"])(n("index.操作成功")),i.initData(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}()});i.address&&i.initContract(),Object(a["T"])((function(){return i.address}),(function(e){e&&i.initContract()}));var s=Object(a["Q"])(i);return Object(m["a"])({},s)}},A=(n("43db"),n("6b0d")),C=n.n(A);const E=C()(k,[["render",c],["__scopeId","data-v-d711bd26"]]);t["default"]=E},a4a5:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"intro","type":"address"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"BindIntroLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"BuyNftLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"IdoLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"ELE","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_intro","type":"address"}],"name":"buyNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"buyNftAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"freeNftAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getChildren","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_intro","type":"address"}],"name":"ido","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"idoAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"idoNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"introNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxNft","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"receiveAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rewardAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rootAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_ele","type":"address"}],"name":"setELE","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxNft","type":"uint256"}],"name":"setMaxNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_usdt","type":"address"}],"name":"setUsdt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"total","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userInfo","outputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"intro","type":"address"},{"internalType":"bool","name":"isGetNft","type":"bool"},{"internalType":"bool","name":"isBuyNft","type":"bool"},{"internalType":"bool","name":"isIdo","type":"bool"},{"internalType":"bool","name":"isExist","type":"bool"}],"stateMutability":"view","type":"function"}]')},a9e3:function(e,t,n){"use strict";var a=n("83ab"),i=n("da84"),s=n("e330"),r=n("94ca"),u=n("6eeb"),p=n("1a2d"),o=n("7156"),d=n("3a9b"),y=n("d9b5"),l=n("c04e"),c=n("d039"),m=n("241c").f,f=n("06cf").f,b=n("9bf2").f,T=n("408a"),w=n("58a8").trim,v="Number",x=i[v],O=x.prototype,h=i.TypeError,M=s("".slice),g=s("".charCodeAt),N=function(e){var t=l(e,"number");return"bigint"==typeof t?t:I(t)},I=function(e){var t,n,a,i,s,r,u,p,o=l(e,"number");if(y(o))throw h("Cannot convert a Symbol value to a number");if("string"==typeof o&&o.length>2)if(o=w(o),t=g(o,0),43===t||45===t){if(n=g(o,2),88===n||120===n)return NaN}else if(48===t){switch(g(o,1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+o}for(s=M(o,2),r=s.length,u=0;u<r;u++)if(p=g(s,u),p<48||p>i)return NaN;return parseInt(s,a)}return+o};if(r(v,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var j,k=function(e){var t=arguments.length<1?0:x(N(e)),n=this;return d(O,n)&&c((function(){T(n)}))?o(Object(t),n,k):t},A=a?m(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;A.length>C;C++)p(x,j=A[C])&&!p(k,j)&&b(k,j,f(x,j));k.prototype=O,O.constructor=k,u(i,v,k)}},ae04:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"RewardPaidLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"StakedLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"addWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseUrl","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"delWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"earned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurBlance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getUserAllTokens","outputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getWhitelist","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getWhitelistLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"haveTakeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastBlance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"}],"name":"mint","outputs":[{"internalType":"uint256","name":"nftId","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rewardPerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardPerTokenStored","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardsToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"url","type":"string"}],"name":"setUrl","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userInfo","outputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"userRewardPerTokenPaid","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"bool","name":"isExist","type":"bool"}],"stateMutability":"view","type":"function"}]')},b424:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5e412f97.99c7790e.js.map