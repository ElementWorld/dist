(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b123dc3"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("e330"),r=n("1d80"),i=n("577e"),s=n("5899"),u=a("".replace),o="["+s+"]",d=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),p=function(e){return function(t){var n=i(r(t));return 1&e&&(n=u(n,d,"")),2&e&&(n=u(n,c,"")),n}};e.exports={start:p(1),end:p(2),trim:p(3)}},7822:function(e,t,n){},"943b":function(e,t,n){"use strict";n.r(t);n("a9e3");var a=n("7a23"),r={class:"user-box"},i={class:"nft-box"},s={class:"title"},u={class:"desc"},o={class:"btn-box"},d={class:"children-num"},c={class:"tip"},p={class:"intro-box"},l={class:"title"},y={class:"list"},b={class:"token flex-item"},f=["data-clipboard-text"];function m(e,t,n,m,v,w){var O=Object(a["L"])("HeadTop"),x=Object(a["L"])("van-button");return Object(a["E"])(),Object(a["j"])("div",r,[Object(a["n"])(O,{title:e.$t("index.加入合伙人"),isShowTop:!0,isSubHeader:!1},null,8,["title"]),Object(a["k"])("div",i,[Object(a["k"])("div",s,Object(a["P"])(e.$t("index.加入合伙人获取元素世界勋章NFT")),1),Object(a["k"])("div",u,Object(a["P"])(e.$t("index.直接邀请至少个用户",{introNum:e.introNum,buyNftAmount:e.buyNftAmount})),1),Object(a["k"])("div",o,[Number(e.usdtAllowance)>0?(Object(a["E"])(),Object(a["h"])(x,{key:0,disabled:e.isBuyNft,type:"primary",size:"large",onClick:e.buyNft},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.加入合伙人")),1)]})),_:1},8,["disabled","onClick"])):(Object(a["E"])(),Object(a["h"])(x,{key:1,type:"primary",size:"large",onClick:e.approveUsdt},{default:Object(a["V"])((function(){return[Object(a["m"])(Object(a["P"])(e.$t("index.授权"))+" USDT",1)]})),_:1},8,["onClick"]))]),Object(a["k"])("div",d,Object(a["P"])(e.$t("index.ido直推有效人数："))+Object(a["P"])(e.childrenNum),1),Object(a["k"])("div",c,Object(a["P"])(e.$t("index.花费USDT获得NFT",{buyNftAmount:e.buyNftAmount,introNum:e.introNum})),1)]),Object(a["k"])("div",p,[Object(a["k"])("div",l,Object(a["P"])(e.$t("index.我的IDO直推")),1),Object(a["k"])("div",y,[(Object(a["E"])(!0),Object(a["j"])(a["a"],null,Object(a["K"])(e.children,(function(t,n){return Object(a["E"])(),Object(a["j"])("div",{class:"item flex-middle",key:n},[Object(a["k"])("div",b,Object(a["P"])(t.substring(0,12))+"****"+Object(a["P"])(t.substring(t.length-12,t.length)),1),Object(a["k"])("div",{class:"copy-btn","data-clipboard-text":t},Object(a["P"])(e.$t("index.复制")),9,f)])})),128))])])])}var v=n("5530"),w=n("1da1"),O=(n("b680"),n("96cf"),n("1a2e")),x=n("5502"),h=n("01ea"),N=n("a4a5"),j=n("901e"),T=n.n(j),g=n("722f"),A=n("98b3"),k=n("47e2"),I=n("9d56"),M=n("626a"),C=n("b311"),E=n.n(C),R={components:{HeadTop:O["a"]},setup:function(){var e=Object(x["b"])(),t=Object(k["b"])(),n=t.t,r=Object(a["I"])({address:Object(a["f"])((function(){return e.state.accounts[0]})),web3:Object(a["f"])((function(){return e.state.provider})),idoContract:null,usdtContract:null,usdtBalance:"0.00",idoAmount:"0.00",buyNftAmount:"0.00",usdtAllowance:"",introNum:0,intro:A["a"].get()||h["a"].rootAddress,isBuyNft:!1,isGetNft:!1,isIdo:!1,childrenNum:0,children:[],initContract:function(){r.idoContract=new r.web3.eth.Contract(N,h["a"].idoAddress),r.usdtContract=new r.web3.eth.Contract(g,h["a"].usdtAddress),r.initData()},initData:function(){r.getBalance(),r.getIdoInfo(),r.getUsdtAllowance(),r.getUserInfo()},getUserInfo:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.idoContract.methods.userInfo(r.address).call();case 2:return t=e.sent,e.next=5,r.idoContract.methods.getChildren(r.address).call();case 5:n=e.sent,r.isBuyNft=t.isGetNft,r.isGetNft=t.isGetNft,r.isIdo=t.isIdo,r.childrenNum=n.length,r.children=n;case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getBalance:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.usdtContract.methods.balanceOf(r.address).call();case 2:t=e.sent,r.usdtBalance=new T.a(t).dividedBy(Math.pow(10,18)).toFixed(2,1);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getIdoInfo:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.idoContract.methods.idoAmount().call();case 2:return t=e.sent,e.next=5,r.idoContract.methods.buyNftAmount().call();case 5:return n=e.sent,e.next=8,r.idoContract.methods.introNum().call();case 8:a=e.sent,r.idoAmount=new T.a(t).dividedBy(Math.pow(10,18)).toFixed(2,1),r.buyNftAmount=new T.a(n).dividedBy(Math.pow(10,18)).toFixed(2,1),r.introNum=a;case 12:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getUsdtAllowance:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.usdtContract.methods.allowance(r.address,h["a"].idoAddress).call();case 2:t=e.sent,r.usdtAllowance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),approveUsdt:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.usdtContract.methods.approve(h["a"].idoAddress,I["a"]).send({from:r.address});case 3:r.getUsdtAllowance(),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),buyNft:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(Number(r.usdtBalance)<Number(r.buyNftAmount))){e.next=3;break}return Object(M["a"])(n("index.USDT余额不足")),e.abrupt("return");case 3:return e.prev=3,e.next=6,r.idoContract.methods.buyNft(r.intro).send({from:r.address});case 6:Object(M["a"])(n("index.操作成功")),r.initData(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}(),ido:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(Number(r.usdtBalance)<Number(r.buyNftAmount))){e.next=3;break}return Object(M["a"])(n("index.USDT余额不足")),e.abrupt("return");case 3:return e.prev=3,e.next=6,r.idoContract.methods.ido(r.intro).send({from:r.address});case 6:Object(M["a"])(n("index.操作成功")),r.initData(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}()});r.address&&r.initContract(),Object(a["B"])((function(){var e=new E.a(".copy-btn");e.on("success",(function(e){Object(M["a"])(n("index.复制成功")),e.clearSelection()})),e.on("error",(function(){Object(M["a"])(n("index.复制失败，请手动复制"))}))})),Object(a["T"])((function(){return r.address}),(function(e){e&&r.initContract()}));var i=Object(a["Q"])(r);return Object(v["a"])({},i)}},_=(n("dd92"),n("6b0d")),B=n.n(_);const S=B()(R,[["render",m],["__scopeId","data-v-0c789ccb"]]);t["default"]=S},a4a5:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"intro","type":"address"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"BindIntroLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"BuyNftLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"IdoLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"ELE","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_intro","type":"address"}],"name":"buyNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"buyNftAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"freeNftAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getChildren","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_intro","type":"address"}],"name":"ido","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"idoAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"idoNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"introNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxNft","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"receiveAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rewardAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rootAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_ele","type":"address"}],"name":"setELE","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxNft","type":"uint256"}],"name":"setMaxNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_usdt","type":"address"}],"name":"setUsdt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"total","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userInfo","outputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"intro","type":"address"},{"internalType":"bool","name":"isGetNft","type":"bool"},{"internalType":"bool","name":"isBuyNft","type":"bool"},{"internalType":"bool","name":"isIdo","type":"bool"},{"internalType":"bool","name":"isExist","type":"bool"}],"stateMutability":"view","type":"function"}]')},a9e3:function(e,t,n){"use strict";var a=n("83ab"),r=n("da84"),i=n("e330"),s=n("94ca"),u=n("6eeb"),o=n("1a2d"),d=n("7156"),c=n("3a9b"),p=n("d9b5"),l=n("c04e"),y=n("d039"),b=n("241c").f,f=n("06cf").f,m=n("9bf2").f,v=n("408a"),w=n("58a8").trim,O="Number",x=r[O],h=x.prototype,N=r.TypeError,j=i("".slice),T=i("".charCodeAt),g=function(e){var t=l(e,"number");return"bigint"==typeof t?t:A(t)},A=function(e){var t,n,a,r,i,s,u,o,d=l(e,"number");if(p(d))throw N("Cannot convert a Symbol value to a number");if("string"==typeof d&&d.length>2)if(d=w(d),t=T(d,0),43===t||45===t){if(n=T(d,2),88===n||120===n)return NaN}else if(48===t){switch(T(d,1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+d}for(i=j(d,2),s=i.length,u=0;u<s;u++)if(o=T(i,u),o<48||o>r)return NaN;return parseInt(i,a)}return+d};if(s(O,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var k,I=function(e){var t=arguments.length<1?0:x(g(e)),n=this;return c(h,n)&&y((function(){v(n)}))?d(Object(t),n,I):t},M=a?b(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;M.length>C;C++)o(x,k=M[C])&&!o(I,k)&&m(I,k,f(x,k));I.prototype=h,h.constructor=I,u(r,O,I)}},dd92:function(e,t,n){"use strict";n("7822")}}]);
//# sourceMappingURL=chunk-7b123dc3.c5362803.js.map