{"version":3,"sources":["webpack:///./src/views/invest/index.vue?df50","webpack:///./src/assets/images/jb_3.png","webpack:///./src/assets/images/jb_1.png","webpack:///./src/assets/images/jb_2.png","webpack:///./src/assets/images sync ^\\.\\/jb_.*\\.png$","webpack:///./src/views/invest/index.vue","webpack:///./node_modules/@ethersproject/constants/lib.esm/addresses.js","webpack:///./src/views/invest/index.vue?efb8"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","class","_createElementBlock","_createVNode","_component_HeadTop","title","_ctx","isShowTop","isSubHeader","_createElementVNode","onClick","push","name","_toDisplayString","Number","toFixed","_component_van_button","type","size","style","_Fragment","_renderList","item","src","require","alt","needUsdtAmount","_createBlock","loading","swaploading","loading-text","block","AddressZero","components","HeadTop","setup","store","useStore","useI18n","t","data","reactive","address","computed","state","accounts","web3","provider","intro","get","config","rootAddress","eleContract","investContract","balance","types","typeId","allowance","investAmount","totalBack","needEleAmount","investIncome","introIncome","reward","btn","initContract","eth","Contract","investAbi","investAddress","tokenAbi","ELEAddress","initData","getAllStakeType","getBalance","getAllowance","getInfo","getUserInfo","selectType","getNeedEleAmount","user","then","res","userInfo","haveBack","methods","call","investAmmount","balanceOf","getEleAmount","eleAmount","approve","MaxUint256","send","from","Toast","withdraw","feeValue","value","invest","introUserInfo","userUserInfo","stake","estimateGas","watch","val","refData","toRefs","__exports__","render"],"mappings":"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","file":"static/js/chunk-5638fbf3.c0aa08b7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=4307d8d1&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"static/img/jb_3.64a9ad8e.png\";","module.exports = __webpack_public_path__ + \"static/img/jb_1.df61a664.png\";","module.exports = __webpack_public_path__ + \"static/img/jb_2.71706c9b.png\";","var map = {\n\t\"./jb_1.png\": \"4b36\",\n\t\"./jb_2.png\": \"736f\",\n\t\"./jb_3.png\": \"497d\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"7f98\";","<template>\r\n  <div class=\"index\">\r\n    <HeadTop :title=\"$t('index.投资')\" :isShowTop=\"true\" :isSubHeader=\"false\"></HeadTop>\r\n    <div class=\"floor-top\">\r\n      <div class=\"nums flex-middle\">\r\n          <div class=\"item border-1px-r\" @click=\"$router.push({name:'RecordLpPower'})\">\r\n            <div class=\"key\">{{$t('index.已投资')}}(ELE)</div>\r\n            <div class=\"value\">{{Number(investAmount/10**18).toFixed(2)}}</div>\r\n          </div>\r\n          <div class=\"item\">\r\n            <div class=\"key\">{{$t('index.累计领取')}}(ELE)</div>\r\n            <div class=\"value\">{{Number(totalBack/10**18).toFixed(2)}}</div>\r\n          </div>\r\n           <div class=\"item border-1px-r\" @click=\"$router.push({name:'RecordLpPower'})\">\r\n            <div class=\"key\">{{$t('index.投资收益')}}(ELE)</div>\r\n            <div class=\"value\">{{Number(investIncome/10**18).toFixed(2)}}</div>\r\n          </div>\r\n          <div class=\"item\">\r\n            <div class=\"key\">{{$t('index.推荐收益')}}(ELE)</div>\r\n            <div class=\"value\">{{Number(introIncome/10**18).toFixed(2)}}</div>\r\n          </div>\r\n        </div>\r\n      <div class=\"nums flex-middle\">\r\n          <div class=\"item\">\r\n            <div class=\"key\">{{$t('index.待领取收益')}}(ELE)</div>\r\n            <div class=\"value\">{{Number(reward/10**18).toFixed(5)}}</div>\r\n          </div>\r\n            <div class=\"item\">\r\n              <span class=\"btn\" @click=\"withdraw\">{{$t('index.领取')}}</span>\r\n          </div>\r\n        </div>  \r\n    </div>\r\n    <div class=\"list-btn flex-middle\">\r\n      <van-button type=\"primary\" size=\"large\" @click=\"$router.push({name: 'Order'})\">{{$t('index.投资记录')}}</van-button>\r\n      <van-button type=\"primary\" style=\"margin:0 6px\" size=\"large\" @click=\"$router.push({name: 'WithdrawList'})\">{{$t('index.领取记录')}}</van-button>\r\n      <van-button type=\"primary\" size=\"large\" @click=\"$router.push({name: 'IntroIncomeList'})\">{{$t('index.推荐收益记录')}}</van-button>\r\n    </div>\r\n    <div class=\"swap\">\r\n     <div class=\"swap-item\">\r\n       <div class=\"title\">{{$t('index.选择投资类型')}}</div>\r\n      <div class=\"choose-type flex-between\">\r\n        <div class=\"type-item\" v-for=\"item in types\" :class=\"typeId == item.id ? 'active' : ''\" @click=\"selectType(item)\">\r\n          <img :src=\"require('@/assets/images/jb_'+ item.id +'.png')\" alt=\"\">\r\n          <span>{{item.needUsdtAmount/10**18}}USDT</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"price-desc\">{{$t('index.需要')}}<span>{{Number(needEleAmount/10**18).toFixed(4)}}</span>ELE</div>\r\n      <div class=\"button-box\">\r\n        <van-button type=\"primary\" :loading=\"btn.swaploading\" size=\"large\" :loading-text=\"$t('index.投资')+ '...'\" block v-if=\"Number(allowance) > 0\" @click=\"invest\">{{$t('index.投资')}}</van-button>\r\n        <van-button type=\"primary\" :loading=\"btn.swaploading\" v-else size=\"large\" :loading-text=\"$t('index.正在授权')+ '...'\" @click=\"approve\">{{$t('index.授权')}}ELE</van-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HeadTop from '@/components/HeadTop'\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport config from \"@/utils/config\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport investAbi from \"@/utils/investAbi\";\r\nimport { Toast } from 'vant';\r\nimport { MaxUint256, AddressZero } from \"@ethersproject/constants\";\r\nimport { intro } from '@/storage'\r\nimport { getUserInfo } from '@/api'\r\nexport default {\r\n  components: {\r\n    HeadTop\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      intro: intro.get() || config.rootAddress,\r\n      eleContract: null,\r\n      investContract: null,\r\n      balance: 0,\r\n      types: [],\r\n      typeId: '',\r\n      type: null,\r\n      allowance: '',\r\n      investAmount: '0.00',\r\n      totalBack: '0.00',\r\n      needEleAmount: '0.00',\r\n      investIncome: '0.00',\r\n      introIncome: '0.00',\r\n      reward: '0.00',\r\n      btn: {\r\n        swaploading: false\r\n      },\r\n      initContract: () => {\r\n        data.investContract = new data.web3.eth.Contract(investAbi, config.investAddress)\r\n        data.eleContract = new data.web3.eth.Contract(tokenAbi, config.ELEAddress)\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getAllStakeType()\r\n        data.getBalance()\r\n        data.getAllowance()\r\n        data.getInfo()\r\n        data.getUserInfo()\r\n      },\r\n      selectType: async (type) => {\r\n        data.type = type\r\n        data.typeId = type.id\r\n        await data.getNeedEleAmount()\r\n      },\r\n      getUserInfo: () => {\r\n        getUserInfo({user: data.address}).then((res) => {\r\n          data.investIncome = res.data.userInfo.haveBack\r\n          data.reward = res.data.userInfo.reward\r\n          data.introIncome = res.data.userInfo.introIncome\r\n          console.log(data.investIncome,data.reward,data.introIncome)\r\n        })\r\n      },\r\n      getInfo: async () => {\r\n         let userInfo = await data.investContract.methods.userInfo(data.address).call()\r\n         data.investAmount = userInfo.investAmmount\r\n         data.totalBack = userInfo.totalBack\r\n      },\r\n      getBalance: async () => {\r\n        // let decimals = await data.eleContract.methods.decimals().call()\r\n        let balance = await data.eleContract.methods.balanceOf(data.address).call()\r\n        data.balance =  balance\r\n      },\r\n      getAllowance: async () => {\r\n        let allowance = await data.eleContract.methods.allowance(data.address, config.investAddress).call()\r\n        data.allowance = allowance;\r\n      },\r\n      getAllStakeType: async () => {\r\n        let types = await data.investContract.methods.getAllStakeType().call()\r\n        console.log(types)\r\n        data.types = types\r\n        data.typeId = types[0].id\r\n        data.type = types[0]\r\n        await data.getNeedEleAmount()\r\n      },\r\n      getNeedEleAmount: async () => {\r\n        let eleAmount = await data.investContract.methods.getEleAmount(data.type.needUsdtAmount).call()\r\n        data.needEleAmount = eleAmount;\r\n      },\r\n      approve: async () => {\r\n        data.btn.swaploading = true\r\n        try {\r\n          await data.eleContract.methods.approve(config.investAddress, MaxUint256).send({from: data.address})\r\n          Toast(t('index.授权成功'))\r\n          data.getAllowance()\r\n          data.btn.swaploading = false\r\n        } catch (error) {\r\n          Toast(t('index.授权失败'))\r\n          data.btn.swaploading = false\r\n        }   \r\n      },\r\n      withdraw: async () => {\r\n       try {\r\n         let value = await data.investContract.methods.feeValue().call()\r\n         await data.investContract.methods.withdraw().send({from: data.address, value: value})\r\n         Toast(t('index.领取成功'))\r\n       } catch (error) {\r\n         Toast(t('index.领取失败'))\r\n       }\r\n        \r\n      },\r\n      invest: async () => {\r\n        if(Number(data.needEleAmount) > Number(data.balance)) {\r\n          Toast(t('index.ELE余额不足'))\r\n          return\r\n        }\r\n        let introUserInfo = await data.investContract.methods.userInfo(data.intro).call()\r\n        let userUserInfo = await data.investContract.methods.userInfo(data.address).call()\r\n        if(introUserInfo.intro == AddressZero && data.intro != config.rootAddress && userUserInfo.intro == AddressZero) {\r\n          Toast(t('index.推荐人无效'))\r\n          return\r\n        }\r\n         data.btn.swaploading = true\r\n          try {\r\n           \r\n          let gas = await data.investContract.methods.stake(data.typeId, data.intro).estimateGas({from: data.address})\r\n          console.log(gas)\r\n          await data.investContract.methods.stake(data.typeId, data.intro).send({from: data.address})\r\n          Toast(t('index.投资成功'))\r\n           data.initData()\r\n          data.btn.swaploading = false\r\n        } catch (error) {\r\n          Toast(t('index投资失败'))\r\n          data.btn.swaploading = false\r\n        }\r\n      }\r\n    })\r\n  \r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData,\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.list-btn{\r\n  margin-bottom: 20px;\r\n  padding: 0 16px;\r\n}\r\n.index {\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.swap{\r\n  padding: 0 16px;\r\n}\r\n.floor-top {\r\n  flex-shrink: 0;\r\n  padding: 20px 16px 0;\r\n  word-break: break-all;\r\n .nums {\r\n      position: relative;\r\n      z-index: 100;\r\n      border-radius: 6px;\r\n      background: rgba(255, 255, 255, 0.15);\r\n      padding: 15px 13px;\r\n      margin-bottom: 15px;\r\n      flex-wrap: wrap;\r\n      .item {\r\n        width: 50%;\r\n        margin: 5px 0;\r\n        text-align: center;\r\n        .btn{\r\n          background: #65FF00;\r\n          color: rgba(0, 0, 0, 0.75);\r\n          padding: 6px 12px;\r\n          border-radius: 6px;\r\n        }\r\n      }\r\n      .key {\r\n        color: @tip-color;\r\n        font-size: 12px;\r\n        padding-bottom: 4px;\r\n      }\r\n      .value {\r\n        font-size: 20px;\r\n        color: @deep-color;\r\n        font-weight: 700;\r\n      }\r\n    }\r\n}\r\n.swap-item{\r\n  border-radius: 5px;\r\n  margin-bottom: 15px;\r\n  .title{\r\n    color: #fff;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    margin-bottom: 20px;\r\n  }\r\n  .price-desc{\r\n    font-size: 15px;\r\n    color: #fff;\r\n    margin: 15px 8px;\r\n    span{\r\n      color: #FFD511;\r\n    }\r\n  }\r\n}\r\n.choose-type{\r\n  margin-bottom: 10px;\r\n  .type-item{\r\n    width: 31%;\r\n    display: flex;\r\n    flex-direction:column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    box-sizing: border-box;\r\n    padding: 8px;\r\n     background: rgba(255, 255, 255, 0.15);\r\n     border-radius: 5px;\r\n     &.active{\r\n       border: 1px solid rgba(101, 255, 0, 0.4);\r\n     }\r\n    img{\r\n      width: 60px;\r\n    }\r\n    span{\r\n      color: #fff;\r\n      margin-top: 5px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","export const AddressZero = \"0x0000000000000000000000000000000000000000\";\n//# sourceMappingURL=addresses.js.map","import { render } from \"./index.vue?vue&type=template&id=4307d8d1&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4307d8d1&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\activeSelf\\\\elementWorldVue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4307d8d1\"]])\n\nexport default __exports__"],"sourceRoot":""}